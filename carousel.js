class Carousel{constructor(t,i={}){this.container=t,this.carouselImages=t.querySelector(".carousel-images"),this.images=t.querySelectorAll(".carousel-images img"),this.prevButton=t.querySelector(".prev"),this.nextButton=t.querySelector(".next"),this.indicators=t.querySelector(".carousel-indicators"),this.index=0,this.totalImages=this.images.length,this.interval=i.interval||3e3,this.transitionEffect=i.transitionEffect||"ease-in-out",this.transitionDuration=i.transitionDuration||.5,this.autoPlay=!1!==i.autoPlay,this.pauseOnHover=!1!==i.pauseOnHover,this.updateCarousel=this.updateCarousel.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.autoSlide=this.autoSlide.bind(this),this.stopAutoSlide=this.stopAutoSlide.bind(this),this.startAutoSlide=this.startAutoSlide.bind(this),this.carouselImages.style.transition=`transform ${this.transitionDuration}s ${this.transitionEffect}`,this.prevButton.addEventListener("click",this.prev),this.nextButton.addEventListener("click",this.next),this.pauseOnHover&&(this.container.addEventListener("mouseenter",this.stopAutoSlide),this.container.addEventListener("mouseleave",this.startAutoSlide)),this.carouselImages.addEventListener("touchstart",this.touchStart.bind(this)),this.carouselImages.addEventListener("touchmove",this.touchMove.bind(this)),this.carouselImages.addEventListener("touchend",this.touchEnd.bind(this)),this.autoPlay&&this.startAutoSlide(),this.createIndicators()}createIndicators(){this.images.forEach(((t,i)=>{const s=document.createElement("span");s.classList.add("carousel-indicator"),s.addEventListener("click",(()=>{this.index=i,this.updateCarousel()})),this.indicators.appendChild(s)})),this.updateIndicators()}updateIndicators(){this.indicators.querySelectorAll(".carousel-indicator").forEach(((t,i)=>{t.classList.toggle("active",i===this.index)}))}updateCarousel(){this.carouselImages.style.transform=`translateX(${100*-this.index}%)`,this.updateIndicators()}next(){this.index=this.index<this.totalImages-1?this.index+1:0,this.updateCarousel()}prev(){this.index=this.index>0?this.index-1:this.totalImages-1,this.updateCarousel()}autoSlide(){this.next(),this.startAutoSlide()}startAutoSlide(){this.intervalId=setTimeout(this.autoSlide,this.interval)}stopAutoSlide(){clearTimeout(this.intervalId)}touchStart(t){this.stopAutoSlide(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY}touchMove(t){this.moveX=t.touches[0].clientX-this.startX,this.moveY=t.touches[0].clientY-this.startY}touchEnd(){Math.abs(this.moveX)>Math.abs(this.moveY)&&(this.moveX>50?this.prev():this.moveX<-50&&this.next()),this.autoPlay&&this.startAutoSlide()}}export default Carousel;
